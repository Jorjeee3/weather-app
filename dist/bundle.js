(()=>{"use strict";const e=["January","February","March","April","May","June","July","August","September","October","November","December"];async function t(e){let t,n=e;try{t=(await axios.get(`http://api.openweathermap.org/data/2.5/weather?q=${n}&appid=b39ee5e4e806355fcce52d45a1d0f946&units=imperial`)).data}catch(e){console.log(e)}return t}const n=document.querySelector(".spotlight-input"),o=document.querySelector(".spotlight-cities-list"),r=document.querySelector(".spotlight-button"),c=document.querySelector(".button-dubai"),a=document.querySelector(".button-london"),i=document.querySelector(".button-new-york"),u=document.querySelector(".button-paris"),m=(document.querySelectorAll(".question-item-content"),document.querySelectorAll(".question-tab"));let l;function d(){const e=document.querySelectorAll(".button-cities-item");console.log(e),e.forEach((function(e){e.addEventListener("click",(()=>{console.log(e.value),n.value=e.value,o.classList.remove("display-block")}))}))}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(){const t=new Date,n=t.getFullYear(),o=t.getMonth();return`${t.getDate()} ${e[o]} ${n}`}function y(){window.scroll({left:0,top:0,behavior:"smooth"})}document.querySelectorAll(".item-city"),n.addEventListener("input",(()=>{clearTimeout(l),l=setTimeout((()=>h(n.value)),800)})),n.addEventListener("input",(()=>{""===n.value?o.classList.remove("display-block"):""!==n.value&&o.classList.add("display-block")})),document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("click",(e=>{const t=e.target;t.closest(".spotlight-cities-list")||t.closest(".spotlight-cities-item")||o.classList.remove("display-block")}))})),r.addEventListener("click",(e=>{e.preventDefault(),async function(){t(n.value).then((function(e){document.querySelector(".weather-icon");const t=document.querySelector(".weather-icon-wrapper"),n=document.querySelector(".city-name-title"),o=document.querySelector(".weater-temperature"),r=document.querySelector(".weather-name"),c=document.querySelector(".weather-description"),a=document.querySelector(".current-date"),i=document.querySelector(".min-degree"),u=document.querySelector(".max-degree");t.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png">`,o.innerHTML=Math.round((e.main.temp-32)/1.8)+"°C",console.log(e.main.temp),n.textContent=`${e.name}, ${e.sys.country}`,r.textContent=e.weather[0].main,c.textContent=e.weather[0].description,a.textContent=p(),i.textContent=Math.round((e.main.temp_min-32)/1.8)+"°C",u.textContent=Math.round((e.main.temp_max-32)/1.8)+"°C",c.textContent=s(c.textContent)}));const e=t(cityName)[0],o=(document.querySelector(".weather-icon"),document.querySelector(".weather-icon-wrapper")),r=document.querySelector(".city-name-title"),c=document.querySelector(".weater-temperature"),a=document.querySelector(".weather-name"),i=document.querySelector(".weather-description"),u=document.querySelector(".current-date"),m=document.querySelector(".min-degree"),l=document.querySelector(".max-degree");o.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png">`,c.innerHTML=Math.round(e.main.temp-273)+"°C",r.textContent=`${e.name}, ${e.sys.country}`,a.textContent=e.weather[0].main,i.textContent=e.weather[0].description,u.textContent=p(),m.textContent=Math.round(e.main.temp_min-273)+"°C",l.textContent=Math.round(e.main.temp_max-273)+"°C",i.textContent=s(i.textContent)}(),n.value="",o.classList.remove("display-block")})),c.addEventListener("click",(()=>{let e;t("dubai").then((function(t){e=t,document.querySelector(".weather-icon");const n=document.querySelector(".weather-icon-wrapper"),o=document.querySelector(".city-name-title"),r=document.querySelector(".weater-temperature"),c=document.querySelector(".weather-name"),a=document.querySelector(".weather-description"),i=document.querySelector(".current-date"),u=document.querySelector(".min-degree"),m=document.querySelector(".max-degree");n.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png">`,r.innerHTML=Math.round((e.main.temp-32)/1.8)+"°C",console.log(e.main.temp),o.textContent=`${e.name}, ${e.sys.country}`,c.textContent=e.weather[0].main,a.textContent=e.weather[0].description,i.textContent=p(),u.textContent=Math.round((e.main.temp_min-32)/1.8)+"°C",m.textContent=Math.round((e.main.temp_max-32)/1.8)+"°C",a.textContent=s(a.textContent)})),y()})),a.addEventListener("click",(()=>{let e;t("london").then((function(t){e=t,document.querySelector(".weather-icon");const n=document.querySelector(".weather-icon-wrapper"),o=document.querySelector(".city-name-title"),r=document.querySelector(".weater-temperature"),c=document.querySelector(".weather-name"),a=document.querySelector(".weather-description"),i=document.querySelector(".current-date"),u=document.querySelector(".min-degree"),m=document.querySelector(".max-degree");n.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png">`,r.innerHTML=Math.round((e.main.temp-32)/1.8)+"°C",console.log(e.main.temp),o.textContent=`${e.name}, ${e.sys.country}`,c.textContent=e.weather[0].main,a.textContent=e.weather[0].description,i.textContent=p(),u.textContent=Math.round((e.main.temp_min-32)/1.8)+"°C",m.textContent=Math.round((e.main.temp_max-32)/1.8)+"°C",a.textContent=s(a.textContent)})),y()})),i.addEventListener("click",(()=>{let e;t("New York").then((function(t){e=t,document.querySelector(".weather-icon");const n=document.querySelector(".weather-icon-wrapper"),o=document.querySelector(".city-name-title"),r=document.querySelector(".weater-temperature"),c=document.querySelector(".weather-name"),a=document.querySelector(".weather-description"),i=document.querySelector(".current-date"),u=document.querySelector(".min-degree"),m=document.querySelector(".max-degree");n.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png">`,r.innerHTML=Math.round((e.main.temp-32)/1.8)+"°C",console.log(e.main.temp),o.textContent=`${e.name}, ${e.sys.country}`,c.textContent=e.weather[0].main,a.textContent=e.weather[0].description,i.textContent=p(),u.textContent=Math.round((e.main.temp_min-32)/1.8)+"°C",m.textContent=Math.round((e.main.temp_max-32)/1.8)+"°C",a.textContent=s(a.textContent)})),y()})),u.addEventListener("click",(()=>{let e;t("paris").then((function(t){e=t,document.querySelector(".weather-icon");const n=document.querySelector(".weather-icon-wrapper"),o=document.querySelector(".city-name-title"),r=document.querySelector(".weater-temperature"),c=document.querySelector(".weather-name"),a=document.querySelector(".weather-description"),i=document.querySelector(".current-date"),u=document.querySelector(".min-degree"),m=document.querySelector(".max-degree");n.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png">`,r.innerHTML=Math.round((e.main.temp-32)/1.8)+"°C",console.log(e.main.temp),o.textContent=`${e.name}, ${e.sys.country}`,c.textContent=e.weather[0].main,a.textContent=e.weather[0].description,i.textContent=p(),u.textContent=Math.round((e.main.temp_min-32)/1.8)+"°C",m.textContent=Math.round((e.main.temp_max-32)/1.8)+"°C",a.textContent=s(a.textContent)})),y()}));const h=async e=>{(async function(e){if(!e.length)return[];console.log(e);const t=await fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/cities?namePrefix=${e}&limit=10`,{method:"GET",headers:{"X-RapidAPI-Key":"5ccc2923a5mshd8c96e49b12a18dp17b0f7jsn9deedd97ccf7","X-RapidAPI-Host":"wft-geo-db.p.rapidapi.com"}});return await t.json()})(e).then((e=>{(e=>{if(e.data.length>0){const t=e.data.map((e=>`\n        <li class="spotlight-cities-item">\n          <button class="button-cities-item" value="${e.city}, ${e.countryCode}" type="button">\n            ${e.city}, ${e.countryCode}\n          </button> \n        </li>\n        `)).join("");o.innerHTML=t,d()}else o.innerHTML='\n    <div class="city-not-found">City not found, please try to change your search query</div>\n    '})(e)})),d()};!function(){let e=document.querySelectorAll(".question-icon");m.forEach((t=>{t.addEventListener("click",(n=>{for(let n=0;n<=e.length;n++)t.nextElementSibling.classList.contains("display-block")?(t.nextElementSibling.classList.remove("display-block"),t.children[1].style.transform="rotate(0deg)"):(t.nextElementSibling.classList.add("display-block"),t.children[1].style.transform="rotate(-180deg)")}))}))}()})();